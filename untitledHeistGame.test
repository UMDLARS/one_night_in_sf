# This script is meant to be run with regtest
# https://eblong.com/zarf/plotex/regtest.html

** game: ./untitledHeistGame.z5

# Each line beginning with > is a command, and everything else marks expected
# output.
#
# 1. Lines starting with "!" are negated
# 2. Lines starting with "/" are regular expressions (mostly handy for
#    substring search). 
# 3. Lines starting with "*" name a test suite, starting the game over from the
#    beginning.
# 
# For the rest of the syntax, see the URL above.  In particular you may find
# >{include} testname
# syntax helpful for starting a suite of tests from the same point in the game.
#
# EXAMPLE minimal.inf TESTS
# * get/drop box
# 
# A sample game which uses PunyInform.
# You are in a library.
# /empty
# !It feels so nice, standing in the box.
# > get box
# Taken.
# > drop box
# Dropped.
# 
# * enter box
# 
# > x box
# The box is empty.
# > enter box
# You enter the box.
# > l
# It feels so nice, standing in the box.

* loop the hallway

> w
> n
> n
> n
> e
> e
> s
> s
> s
> w

The Lobby

* get/drop key from receptionist area

> n
> get key
You can't see any such thing.
> open desk
> look
You can see a Receptionist's Desk (which contains a loose brass key) here.
> get key
Taken.
> drop key
Dropped.

* _get into o7

> n
> open desk
> take key
> s
> w
> n
> w
You can't, since the Office Door is closed.
> open door
It seems to be locked.
> unlock door with key
You unlock the office door and open it!
> w
This is a researcher's office

* test o7 with/without key

>{include} _get into o7
> e
Hallway7
> close door
You close the Office Door.
> lock door with key
You carefully close and lock the office door with the brass key.

* test terminal input

> type foo into list
That's not an object on which you can type anything.
>{include} _get into o7
> x terminal
username:
> type foo into terminal
LOGIN INCORRECT
> type jtitor into terminal
prompts you for a password.
> x terminal
password:
> type gubble into terminal
LOGIN INCORRECT
> x terminal
username:
> type jtitor into terminal then type tipler into terminal
presents you with a command prompt.


* enter/exit all rooms

> n
> open desk
> take key
> s
> e
> e
> w
> n
> e
> w
> n
> w
> take ladder
> e
> n
> e
> w
> w
> s
> n
> w
> n
> climb ladder
> w
> d
> e
> n
> climb ladder
> w
> e
> d
> s
> s
> w
> e
> e
> w
> s
> unlock door with key and open door
> w
> e
> s
> e
The Lobby

* Try to leave without the computer

> s
There is still critical information that isn't on you! You can't leave yet.

* Try to climb into the crawlspace without the ladder

> w
> n
> n
> n
> n
> u
You cannot get up there, if only you had a some sort of step stool.

* Use the ladder to climb into the crawlspace

> e
> n
> n
> w
> get ladder
Taken.
> e
> n
> w
> w
> s
> e
> get torch
Taken.
> w
> n
> n
> use ladder
Ladders are very straightforward devices.
> climb ladder
You climb up the ladder.  However you had to leave it behind.
Dropped.
> d
> s
> e
> e
> take plant
Taken.
> w
> w
> n
> u
You climb up the ladder.You couldn't possibly fit up there while carrying the large potted plant!
You climb back down.
> drop plant
Dropped.
> u
pitch
> turn on torch
Crawl Space
You climb up into a small crawl space
!You're not sure how you can use that in this location.
> d
> climb ladder
Crawl Space

* get the flashlight, plunger, and backup tape
> w
> n
> n
> e
> take flashlight
> w
> s
> s
> e
> e
> e
> take plunger
Taken.
> w
> n
> n
> w
> take ladder
Taken.
> e
> n
> e
The floor of this room is made of large square modular linoleum-covered panels
! One of the floor tiles has been moved aside
> n
You can't go that way
> take tile
you can't simply pry it up with your fingernails.
> lift tile with plunger
You press the plunger
> look
The floor of this room is made of large square modular linoleum-covered panels
One of the floor tiles has been moved aside
> d
You couldn't possibly fit
> drop ladder
Dropped.
> d
pitch dark
> turn on flashlight
You switch the flashlight on.
cramped and dusty space
> n
Dust bunnies
> turn off flashlight
> l
pitch dark
> u
server room
> take tape
> climb down
pitch dark
> u
> s
The door to the server room clicks shut behind you.
> l
IT office

* test tower and glass
> w
> take chair
> n
> n
> touch tower
before flashing red
> talk to tower
buzzes disapprovingly.
> say foo to tower
buzzes disapprovingly.
> l scanner
flashes red several times.
> w
The huge locked glass wall bars the way!
> e
> take screwdriver
Taken.
> w
> break wall with screwdriver
something heavier?
> break wall with chair
You shatter the glass wall
> w
giant shards
Office6
> e
broken glass
Hallway6

* use potted plant to break wall
> e
> n
> n
> n
> take plant
Taken.
> w
> w
> s
> break wall with plant
shatter

* _ready coffee card
> w
> n
> n
> e
> take screwdriver
Taken.
> w
> n
> e
> s
> open cabinet
> take card
Taken.
> n
> e
> s
> s

* jimmy to get hard drive
>{include} _ready coffee card
> jimmy door with card
> e 
> unscrew case with screwdriver
> l
which contains Ellie's hard drive
> take hard drive
Taken.

* pick to get hard drive
>{include} _ready coffee card
> pick lock with card
> e 
> unscrew screws with screwdriver
> l
which contains Ellie's hard drive
> take hard drive
Taken.

* turn screws to get hard drive
>{include} _ready coffee card
> unlock door with card
You unlock the office door and open it!
> undo
> open door with card
You unlock the office door and open it!
> undo
> jimmy door with card
You unlock the office door and open it!
> e 
> turn screws with screwdriver
> l
which contains Ellie's hard drive
> take hard drive
Taken.

* External USB boot drive
> w
> n
> n
> e
> take drive
Taken.
> w
> n
> n
> take tarp
As you fold up and take the tarp you notice underneath it there was a flathead screwdriver!
> take screwdriver
> s
> e
> n
You can't, since the Office Door is closed.
> remove hinges with screwdriver
You remove the hinges of the door!
> n
You can't, since the Office Door is closed.
> move door
You move the door out of the way and set it against the wall
> n
> switch computer
You boot the computer and are greeted by a password screen. You do not know the password to this computer so you decide to turn it off. Maybe you could find a way around the password. You do remember that it is company policy to not encrypt hard drives.
> insert drive into computer
You insert the USB drive into the open port on the back of the computer.
> switch computer
The computer boots to a linux desktop, you bypassed the password! On the desktop there is a directory labeled "Secret Files". You are able to steal the information from the computer and save it onto the USB drive. After you pocket the USB drive, you must exfiltrate with this.

* Easter Eggs
> damn this stupid chunk of germanium
DAMN.SV NOT FOUND
